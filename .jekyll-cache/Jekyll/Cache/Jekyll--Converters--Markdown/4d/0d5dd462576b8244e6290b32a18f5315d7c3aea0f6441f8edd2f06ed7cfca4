I"¼3<p>åœ¨å‘å¸ƒsdkä¸­ï¼Œéœ€è¦åœ¨CocoaPodsä¸Šæ‰˜ç®¡Framework</p>

<h3 id="å®‰è£…cocoapods">å®‰è£…CocoaPods</h3>

<p>é¦–å…ˆå®‰è£…CocoaPodsï¼Œæ²¡å®‰è£…çš„è‡ªè¡Œå®‰è£…</p>

<h3 id="å¤„ç†æºç ">å¤„ç†æºç </h3>
<p>ç¬¬ä¸€æ­¥åœ¨githubä¸Šåˆ›å»ºæºç åº“ï¼ˆæˆ‘ä»¬çš„æºç æ˜¯Frameworkï¼‰ï¼Œå¹¶æŠŠæºç pushåˆ°githubä¸Š</p>

<p>githubåœ°å€ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://github.com/guojunliu/AvidlyAdsSDK.git
</code></pre></div></div>

<h3 id="podspecæ–‡ä»¶">podspecæ–‡ä»¶</h3>
<p>ç¬¬äºŒæ­¥,åœ¨ç›®å½•ä¸‹åˆ›å»º<code class="language-plaintext highlighter-rouge">.podspec</code>æ–‡ä»¶ï¼Œæ­¤å¤„åˆ›å»ºçš„æ˜¯<code class="language-plaintext highlighter-rouge">AvidlyAdsSDK.podspec</code>ï¼Œ</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ pod spec create AvidlyAdsSDK
</code></pre></div></div>

<p>ç”¨ç¼–è¾‘å™¨æ‰“å¼€.podspecæ–‡ä»¶ (æˆ‘è‡ªå·±ç”¨Sublime Text)</p>

<p>æ–‡ä»¶å†…å®¹ä¸º</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Pod::Spec.new do |s|
  s.name             = 'AvidlyAdsSDK'
  s.version          = '2.0.20'
  s.summary          = 'Avidly Ad SDK'
  s.description      = &lt;&lt;-DESC
Avidly Ad SDK.
                       DESC

  s.homepage         = 'http://ads-sdk-doc.haloapps.com/docs/show/2'
  s.license          = { :type =&gt; 'MIT', :file =&gt; 'LICENSE' }
  s.author           = { "steve" =&gt; "steve.liu@holaverse.com" }
  s.source           = { :git =&gt; 'https://github.com/guojunliu/AvidlyAdsSDK.git', :tag =&gt; s.version }

  s.ios.deployment_target = '8.0'

  s.source_files = 'Framework/Appnext/include/*', 'Framework/Chance/include/*', 'Framework/Domob/include/*'
  
  s.resources = "Framework/Chance/resource/*", "Framework/Domob/resource/*", "Framework/Vungle/resource/*", "Framework/AvidlyAdsSDK/resource/*",

  s.public_header_files = 'Framework/Appnext/include/*', 'Framework/Chance/include/*', 'Framework/Domob/include/*'

  s.library = 'sqlite3', 'z'

  s.frameworks = 'QuartzCore', 'MediaPlayer', 'CoreMedia', 'CoreGraphics', 'CFNetwork', 'WebKit', 'WatchConnectivity', 'SystemConfiguration', 'StoreKit', 'Social', 'MessageUI','JavaScriptCore','EventKit','CoreTelephony','AVFoundation','AudioToolbox','AdSupport'

  s.vendored_libraries = "Framework/Appnext/libAppnextLib.a", "Framework/Appnext/libAppnextSDKCore.a", "Framework/Chance/libChanceAd_Video.a", "Framework/Domob/libIndependentVideoSDK.a"

  s.vendored_frameworks = 'Framework/AdColony/AdColony.framework', 'Framework/Mobvista/MVSDK.framework', 'Framework/Mobvista/MVSDKReward.framework', 'Framework/Unity/UnityAds.framework', 'Framework/Vungle/VungleSDK.framework', 'Framework/AvidlyAdsSDK/AvidlyAdsSDK.framework', 'Framework/FBAudienceNetwork/FBAudienceNetwork.framework', 'Framework/GoogleMobileAds/GoogleMobileAds.framework', 'Framework/HolaStatisticalSDK/HolaStatisticalSDK.framework', 'Framework/OneWay/OneWaySDK.framework'
end
</code></pre></div></div>

<p>å­—æ®µè§£é‡Š</p>

<table>
  <thead>
    <tr>
      <th>å­—æ®µ</th>
      <th>è§£é‡Š</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>name</td>
      <td>åç§°</td>
    </tr>
    <tr>
      <td>version</td>
      <td>ç‰ˆæœ¬å·</td>
    </tr>
    <tr>
      <td>summary</td>
      <td>æ‘˜è¦</td>
    </tr>
    <tr>
      <td>description</td>
      <td>æè¿°</td>
    </tr>
    <tr>
      <td>homepage</td>
      <td>ä¸»é¡µ</td>
    </tr>
    <tr>
      <td>license</td>
      <td>è®¸å¯è¯ï¼Œè¿™ä¸ªå¿…é¡»è¦æœ‰ï¼Œä¸”æŒ‰ç…§ä¸Šè¿°æ ¼å¼ï¼Œå¦åˆ™ä¼šå‡ºé”™</td>
    </tr>
    <tr>
      <td>author</td>
      <td>ä½œè€…</td>
    </tr>
    <tr>
      <td>source</td>
      <td>èµ„æºï¼Œæºç gitåº“</td>
    </tr>
    <tr>
      <td>ios.deployment_target</td>
      <td>ios ç¼–è¯‘ç‰ˆæœ¬</td>
    </tr>
    <tr>
      <td>source_files</td>
      <td>æºæ–‡ä»¶</td>
    </tr>
    <tr>
      <td>resources</td>
      <td>èµ„æºåŒ…ï¼Œæ¯”å¦‚å›¾ç‰‡ï¼Œbundleç­‰</td>
    </tr>
    <tr>
      <td>public_header_files</td>
      <td>å…±ç”¨å¤´æ–‡ä»¶</td>
    </tr>
    <tr>
      <td>library</td>
      <td>ä¾èµ–çš„ç³»ç»Ÿtbdåº“ï¼Œè¦å»æ‰<code class="language-plaintext highlighter-rouge">lib</code>å‰ç¼€,ä¾‹å¦‚<code class="language-plaintext highlighter-rouge">libsqlite3.tbd</code>è¦å†™æˆ<code class="language-plaintext highlighter-rouge">sqlite3</code></td>
    </tr>
    <tr>
      <td>frameworks</td>
      <td>ä¾èµ–çš„ç³»ç»ŸFramework</td>
    </tr>
    <tr>
      <td>vendored_libraries</td>
      <td>éç³»ç»Ÿåº“ï¼Œå¦‚ä¾èµ–çš„<code class="language-plaintext highlighter-rouge">.a</code>ç¬¬ä¸‰æ–¹é™æ€åº“ã€‚éœ€è¦æŒ‰ç…§ç›®å½•å†™</td>
    </tr>
    <tr>
      <td>vendored_frameworks</td>
      <td>éç³»ç»Ÿåº“ï¼Œå¦‚ä¾èµ–çš„<code class="language-plaintext highlighter-rouge">.framework</code>ç¬¬ä¸‰æ–¹é™æ€åº“ï¼Œæˆ‘ä»¬æ­¤æ¬¡æ‰˜ç®¡çš„æ˜¯frameworkï¼Œæ‰€ä»¥ä¹Ÿå†™åœ¨è¿™é‡Œã€‚éœ€è¦æŒ‰ç…§ç›®å½•å†™</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<p>ç¼–å†™å®Œä¹‹åéœ€è¦æ ¡éªŒä¸‹<code class="language-plaintext highlighter-rouge">podspec</code>æ–‡ä»¶æ ¼å¼æ˜¯çš„æ­£ç¡®ï¼ŒXcodeæ˜¯å¦èƒ½æ­£å¸¸ç¼–è¯‘ã€‚ä½¿ç”¨ä¸‹é¢ä»£ç </p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ pod lib lint
</code></pre></div></div>

<p>å‡ºç°ä¸‹é¢ä»£ç è¡¨ç¤ºéªŒè¯é€šè¿‡</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-&gt; AvidlyAdsSDK (2.0.20)

AvidlyAdsSDK passed validation.
</code></pre></div></div>

<p>æ¥ä¸‹æ¥è¿åŒ<code class="language-plaintext highlighter-rouge">podspecæ–‡ä»¶</code>ä¸€èµ·pushåˆ°githubï¼Œç”±äºCocoapodsåœ¨è‡ªå·±é…ç½®çš„s.source gitä¸­æ˜¯ä»¥ç‰ˆæœ¬å·æ£€ç´¢çš„ï¼Œå³gitçš„tagï¼Œæ‰€ä»¥æˆ‘ä»¬pushä¹‹åï¼Œåˆ«å¿˜è®°ç»™å½“æ¬¡commitæ‰“ä¸Štagæ ‡ç­¾ï¼Œè¿™é‡Œæ‰“çš„æ˜¯<code class="language-plaintext highlighter-rouge">2.0.20</code>,è¦å’Œ<code class="language-plaintext highlighter-rouge">podspecæ–‡ä»¶</code>ä¸­ä¸€è‡´ï¼Œæ‰èƒ½è¢«æ£€ç´¢åˆ°</p>

<h3 id="æ¨é€åˆ°å®˜æ–¹åº“">æ¨é€åˆ°å®˜æ–¹åº“</h3>
<p>æœ€åæ˜¯ä½¿ç”¨<code class="language-plaintext highlighter-rouge">pod trunk</code>å‘½ä»¤ï¼ŒæŠŠpodspecæ–‡ä»¶æ¨é€åˆ°CocoaPodå®˜æ–¹åº“</p>

<p>pod trunk éœ€è¦æ³¨å†Œ å…·ä½“åšæ³•è¿™é‡Œä¸å†èµ˜è¿° è¯·ç§»æ­¥CocoaPodå®˜ç½‘</p>

<p>pod trunk è®¾ç½®å®Œæ¯•åæ‰§è¡Œå‘½ä»¤</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ pod trunk push AvidlyAdsSDK.podspec
</code></pre></div></div>

<p>å› ä¸ºæˆ‘ä»¬ä¾èµ–çš„SDKæ¯”è¾ƒå¤šï¼Œæºç æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥æ•´ä¸ªè¿‡ç¨‹æ¯”è¾ƒè€—æ—¶ã€‚</p>

<p>æ¨é€å®Œæˆä¹‹åæŸ¥è¯¢ä¸€ä¸‹</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pod search AvidlyAdsSDK
</code></pre></div></div>
<p>å¯ä»¥çœ‹åˆ°å·²ç»èƒ½æŸ¥è¯¢åˆ°æˆ‘ä»¬æ¨é€åˆ°CocoaPodå®˜æ–¹çš„åº“äº†</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-&gt; AvidlyAdsSDK (2.0.20)
   Avidly Ad SDK
   pod 'AvidlyAdsSDK', '~&gt; 2.0.20'
   - Homepage: http://ads-sdk-doc.haloapps.com/docs/show/2
   - Source:   https://github.com/guojunliu/AvidlyAdsSDK.git
   - Versions: 2.0.20, 2.0.19 [AvidlyAdsSDK repo]
</code></pre></div></div>

<h3 id="searchä¸åˆ°">searchä¸åˆ°ï¼Ÿ</h3>

<p>ä¸Šä¸€æ­¥ä¸­ï¼Œåœ¨æ¨é€åˆ°å®˜æ–¹åº“ä¹‹åï¼Œæœ‰å¯èƒ½åœ¨searchçš„æ—¶å€™ï¼Œsearchä¸åˆ°ï¼Œå‡ºç°ä¸‹é¢çš„æç¤º</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[!] Unable to find a pod with name, author, summary, or description matching `AvidlyAdsSDK`
</code></pre></div></div>

<p>è™½ç„¶æˆ‘ä»¬pushåˆ°å®˜æ–¹å¯äº†ï¼Œä½†æ˜¯ä¾ç„¶searchä¸åˆ°</p>

<p>è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆæˆ‘ä»¬è¦äº†è§£ä¸‹cocoapodsçš„æœºåˆ¶ï¼Œåœ¨å®‰è£…cocoapodsçš„æ—¶å€™ï¼Œä½¿ç”¨è¿‡ä¸‹é¢çš„å‘½ä»¤</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pod setup
</code></pre></div></div>
<p>è¿™è¡Œå‘½ä»¤å…¶ä¸­æœ€é‡è¦çš„ä½œç”¨å°±æ˜¯å°†cocoapodså®˜æ–¹repoï¼Œcloneåˆ°æˆ‘ä»¬æœ¬åœ°ã€‚</p>

<p>æˆ‘ä»¬å¯ä»¥çœ‹ä¸‹æˆ‘ä»¬æœ¬åœ°çš„repo</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pod repo list
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>master
- Type: git (master)
- URL:  https://github.com/CocoaPods/Specs.git
- Path: /Users/steve/.cocoapods/repos/master

1 repo
</code></pre></div></div>

<p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æœ¬åœ°ç›®å‰åªæœ‰ä¸€ä¸ªrepoï¼Œå°±æ˜¯å®˜æ–¹çš„master repo</p>

<p>è¿™ä¸ªmaster repoä¸­åŒ…å«äº†æ‰€æœ‰pushåˆ°cocoapodçš„<code class="language-plaintext highlighter-rouge">podspecæ–‡ä»¶</code>ï¼Œå¯ä»¥å»æœ¬æœºcocoapodsç›®å½•ä¸‹çœ‹ä¸€ä¸‹ï¼Œæœ‰æˆåƒä¸Šä¸‡çš„podspecæ–‡ä»¶ã€‚</p>

<p>è§£å†³ä¸Šè¿°é—®é¢˜çš„æœ€ç®€å•åŠæ³•å°±æ˜¯é‡æ–°è°ƒç”¨ä¸‹<code class="language-plaintext highlighter-rouge">pod setup</code>ï¼Œé‡æ–°cloneä¸‹master repo</p>

<h4 id="ä½†æ˜¯">ä½†æ˜¯</h4>

<p>ç”±äºmaster repoå®åœ¨å¤ªå¤§ï¼ˆå¤§æ¦‚700M+ï¼‰ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›CPæµªè´¹æ—¶é—´åœ¨clone repoä¸Šï¼Œä¸ºäº†æé«˜æ•ˆç‡ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ä½¿ç”¨æˆ‘ä»¬è‡ªå·±çš„ç§æœ‰repo</p>

<h3 id="ç§æœ‰åº“">ç§æœ‰åº“</h3>

<p>å…ˆæ¥è¯´ä¸€ä¸ªæ¦‚å¿µï¼Œä»€ä¹ˆæ˜¯repoï¼Ÿå®ƒæ˜¯æ‰€æœ‰çš„Podsçš„ä¸€ä¸ªç´¢å¼•ï¼Œå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œæ‰€æœ‰å…¬å¼€çš„Podséƒ½åœ¨è¿™ä¸ªé‡Œé¢ï¼Œå®ƒå®é™…æ˜¯ä¸€ä¸ªGitä»“åº“remoteç«¯åœ¨GitHubä¸Šï¼Œä½†æ˜¯å½“ä½ ä½¿ç”¨äº†Cocoapodsåå®ƒä¼šè¢«cloneåˆ°æœ¬åœ°çš„~/.cocoapods/reposç›®å½•ä¸‹ã€‚å¯ä»¥è¿›å…¥åˆ°è¿™ä¸ªç›®å½•çœ‹åˆ°masteræ–‡ä»¶å¤¹å°±æ˜¯è¿™ä¸ªå®˜æ–¹çš„repoäº†ã€‚è¿™ä¸ªmasterç›®å½•çš„ç»“æ„æ˜¯è¿™ä¸ªæ ·å­çš„</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>master/xxxåº“/0.0.1ç‰ˆæœ¬/xxx.podspec
            /0.0.2ç‰ˆæœ¬/xxx.podspec
master/zzzåº“/2.0.1ç‰ˆæœ¬/zzz.podspec
</code></pre></div></div>

<p>å…¶ä¸­<code class="language-plaintext highlighter-rouge">master</code>æ˜¯repoåç§°ï¼Œä¸‹ä¸€çº§ç›®å½•<code class="language-plaintext highlighter-rouge">xxxåº“</code>æ˜¯ä½ æ‰˜ç®¡çš„åº“åç§°ï¼Œå†ä¸‹ä¸€çº§<code class="language-plaintext highlighter-rouge">0.0.1ç‰ˆæœ¬</code>æ˜¯ä½ åº“çš„ç‰ˆæœ¬ï¼Œå†ä¸‹ä¸€çº§<code class="language-plaintext highlighter-rouge">xxx.podspec</code>å°±æ˜¯ä½ è‡ªå·±çš„podspec</p>

<p>æ‰€ä»¥æˆ‘ä»¬æ¨¡æ‹Ÿè¿™ä¸ªç›®å½•åˆ›å»ºä¸€ä¸ªå°±å¥½äº†</p>

<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªgitåº“ï¼Œè¿™é‡Œæ˜¯</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://github.com/guojunliu/AvidlyAdsSDK-SpecsRepo.git
</code></pre></div></div>

<p>æ¥ä¸‹æ¥åœ¨åˆ›å»ºç›®å½•åŠæ–‡ä»¶</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>AvidlyAdsSDK/2.0.20/AvidlyAdsSDK.podspec
</code></pre></div></div>

<p>å¦‚æœéœ€è¦ç»´æŠ¤å¤šä¸ªç‰ˆæœ¬çš„çº¿ä¸ŠåŒ…ï¼Œé‚£å°±</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>AvidlyAdsSDK/2.0.19/AvidlyAdsSDK.podspec
            /2.0.20/AvidlyAdsSDK.podspec
</code></pre></div></div>

<p>æ¥ä¸‹æ¥pushåˆ°githubä¸Š</p>

<p>repoåˆ›å»ºå®Œäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†repo cloneåˆ°æˆ‘ä»¬æœ¬åœ°ï¼Œå…ˆçœ‹ä¸‹æˆ‘ä»¬æœ¬åœ°çš„repo</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pod repo list
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>master
- Type: git (master)
- URL:  https://github.com/CocoaPods/Specs.git
- Path: /Users/steve/.cocoapods/repos/master

1 repo
</code></pre></div></div>

<p>åªæœ‰master</p>

<p>æ¥ä¸‹æ¥colenæˆ‘ä»¬è‡ªå·±çš„repo</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pod repo add Avidly https://github.com/guojunliu/AvidlyAdsSDK-SpecsRepo.git
</code></pre></div></div>

<p>å…¶ä¸­<code class="language-plaintext highlighter-rouge">Avidly</code>æ˜¯æˆ‘ä»¬repo cloneåˆ°æœ¬åœ°çš„åå­—ï¼Œè‡ªå·±å‘½å</p>

<p>å®Œæˆä¹‹åå†æ¥çœ‹ä¸‹æœ¬åœ°çš„repo</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Avidly
- Type: git (master)
- URL:  https://github.com/guojunliu/AvidlyAdsSDK-SpecsRepo.git
- Path: /Users/steve/.cocoapods/repos/Avidly

master
- Type: git (master)
- URL:  https://github.com/CocoaPods/Specs.git
- Path: /Users/steve/.cocoapods/repos/master

2 repos
</code></pre></div></div>

<p>å·²ç»å­˜åœ¨äº†ï¼Œå¯ä»¥å»~/.cocoapods/reposç›®å½•ä¸‹ç…ç…</p>

<p>æ¥ä¸‹æ¥å†searchå°±å¯ä»¥æ‰¾åˆ°æˆ‘ä»¬æ‰˜ç®¡çš„Frameworkäº†</p>

<p>è¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨è®©CPå†ç­‰å¾…setupäº†</p>

<h3 id="æµ‹è¯•">æµ‹è¯•</h3>

<p>Podfileå¦‚ä¸‹</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>platform :ios, '8.0'
use_frameworks!

target â€˜testAvidlyPodâ€™ do
  source 'https://github.com/guojunliu/AvidlyAdsSDK-SpecsRepo.git'
  pod 'AvidlyAdsSDK', '~&gt; 2.0.20'
end
</code></pre></div></div>

<p>å…¶ä¸­sourceå°±æ˜¯æˆ‘ä»¬è‡ªå·±çš„ç§æœ‰åº“</p>

<h3 id="å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜">å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜</h3>

<p>1ã€swiftéªŒè¯ä¸è¿‡</p>

<p>2ã€xcodeç¼–è¯‘ä¸è¿‡å¯¼è‡´éªŒè¯ä¸è¿‡</p>

<p>3ã€cloneå‡ºé”™</p>

<p>4ã€xcworkspaceç¼–è¯‘ä¸è¿‡</p>
:ET